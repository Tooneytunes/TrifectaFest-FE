<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <title>inloggen</title>
    <script>
        // function fetchEmail() {

        //     fetch("http://localhost:8080/api/customer/all")
        //             .then(r => r.json())
        //             .then(data => checkEmail(data))
        // }

        // function checkEmail(data){
        //     data.forEach(element => {
        //         console.log(element.email);
        //         console.log(element.password);
        //     });
        // }

        function fetchEmail(){
            var a = document.getElementById("inputfield").value;
            //var b = document.getElementById("inputPassword5").value;
            //console.log(a+b);
            fetch("http://localhost:8080/api/login/"+a)
            .then(qq => qq.text()
            .then( aa => console.log(aa)))
        }

        function userLogin(){
            var email = document.getElementById("inputfield").value;
            var password = document.getElementById("inputPassword5").value;
            var userData = {};
            userData.email = email;
            userData.password = password;
            var data = JSON.stringify(userData); //dikke vette encoder >>>> onleesbaar

         
            fetch("http://localhost:8080/api/login/user", {
          headers: {
            "Content-type": "application/json",
          },
          method: "POST",
          body: data,
        }).then(qq => qq.text()).then( aa => console.log(aa));
        }
    </script>
</head>
<body>
    <div class="container h-100">
    <div class="row h-100 justify-content-center align-items-center">
      <form class="col-4">
        <div class="form-group">
            <label for="validationDefault02" class="form-label">Email</label>
            <input type="text" id="inputfield"  class="form-control" id="validationDefault02" value="" required>
        </div>
        <div class="form-group">
            <label for="inputPassword5" class="form-label">Password</label>
            <input type="password" id="inputPassword5" class="form-control" aria-labelledby="passwordHelpBlock">
        </div>
        <div class="d-flex justify-content-center">
            <button type="button" class="btn btn-primary" onclick="userLogin()">Submit</button>
        </div>
      </form>   
    </div>
  </div>>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
    crossorigin="anonymous"></script> 
</body>
</html>